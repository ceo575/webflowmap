Optimize middleware for Vercel Edge limit  
